<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    .xiaomi {
      width: 512px;
      height: 400px;
      border: 1px solid #f00;
      margin: 100px auto;
      overflow: hidden;
      position: relative;
    }
    
    .xiaomi span {
      position: absolute;
      left: 0;
      width: 100%;
      height: 200px;
      cursor: pointer;
    }
    
    .up {
      top: 0;
    }
    
    .down {
      bottom: 0;
    }
    
    .xiaomi img {
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body>
<!--父盒子400的高-->
<div class="xiaomi">
  <!--大图的高是1470-->
  <img src="mi.png" alt="" id="pic"/>
  <span class="up" id="goUp"></span>
  <span class="down" id="goDown"></span>
</div>
<script>
  var pic = document.getElementById("pic");//运动的图片
  var goUp = document.getElementById("goUp");//向上运动的按钮
  var goDown = document.getElementById("goDown");//向下运动的按钮
  var box = goDown.parentNode;//父盒子
  var timer = null, topVal = 0;
  
  //1 设置goUp的移入事件
  goUp.onmouseover = function () {
//    clearInterval(timer);
    timer = setInterval(function () {
      if (topVal > -1070) {
        topVal -= 10;
        pic.style.top = topVal + "px";
      } else {
        clearInterval(timer);
      }
    }, 20);
  };
  
  //2 设置goDown的移入事件
  goDown.onmouseover = function () {
//    clearInterval(timer);
    timer = setInterval(function () {
      if (topVal < 0) {
        topVal += 10;
        pic.style.top = topVal + "px";
      } else {
        clearInterval(timer);
      }
    }, 20);
  };
  
  //3 给box设置移出事件
  box.onmouseout = function () {
    //之所以上面的事件中不需要设置第一行的清除，是由于事件冒泡执行了父元素的事件代码
    clearInterval(timer);
  };

</script>

</body>
</html>